<!DOCTYPE HTML>
<html>
  <head>
		<link rel="stylesheet" type="text/css" href="css/share/share_main.css">
    <link rel="stylesheet" type="text/css" href="/bulma/css/bulma.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="http://www.webglearth.com/v2/api.js"></script>
		<script src="js/share/share_init.js"></script>
		<script src="js/share/share_function.js"></script>
		<title>Imagining Climate</title>
		<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
 		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<link rel="stylesheet" href="materialize/css/materialize.min.css">
		<link href="css/ionicons.css" rel="stylesheet" type="text/css" />
		<link rel="stylesheet" href="css/animate.css">
		<script src="materialize/js/materialize.min.js"></script>

    <style>
    .dropbtn {
        background-color: #00d1b2;
        color: white;
        padding: 16px;
        font-size: 16px;
        border: none;
        cursor: pointer;
    }
    .dropbtn:hover, .dropbtn:focus {
        background-color: #00d1b2;
    }
    .dropdown {
        position: relative;
        display: inline-block;
    }
    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        overflow: auto;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
    }
    .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
    }
    .dropdown a:hover {background-color: #f1f1f1}
    .show {display:block;}
    </style>
  </head>

	<!-- navbar -->
	<nav>
    <div class="nav-wrapper">
      <a href="/" class="brand-logo" style="padding-left: 20px">Imagining Climate</a>
      <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
      <ul class="right hide-on-med-and-down">
        <li><a href="/explore">Explore</a></li>
        <li><a href="/logout">Logout</a></li>
      </ul>
      <ul class="side-nav" id="mobile-demo">
        <li><a href="/explore">Explore</a></li>
        <li><a href="/logout">Logout</a></li>
      </ul>
    </div>
  </nav>

<body onload="world()">
 <div id="earth_div"  class="wrapper">
   <div class="hover">
     <div class="row">
      <form action="/share" method="post">
        <element hidden id="user" name="user"><%= user.local.username %></element>
        <div class="select">
          <select name="location" id="location" onchange="checkValid();updateTemps(window.sessionStorage.selectedLoc)">
            <% locs.forEach(function(loc) { %>
              <option value='<%=loc.name%>'><%= loc.name %></option>
            <% }); %>
          </select>
        </div>

        <!-- Question Prompt goes here -->
        <div class="animated zoomIn">
          <div class="card">
            <!-- Question button & prompt -->
            <div class="card-content">
              <a class="btn-floating btn-small waves-effect waves-light red" onclick="shuffle_question()"><i class="material-icons">replay</i></a>
              <span id="random_question"></span>
            </div>
            <div class="card-action">
              <div class="columns">
                <!-- Min temperature column -->
                <div class="column">
                  <div class="animated flipInX" style="animation-delay: 0.5s;">
                    <i id="icon1" class="ion-thermometer" style="font-size:30px"></i><b id="min" style="font-size:30px"></b>
                    <i id="arrow1" class="ion-arrow-up-a" style="font-size: 30px;  color: rgba(255, 0, 0, 0.6);"></i>
                  </div>
                </div>
                <!-- Max temperature column -->
                <div class="column">
                  <div class="animated flipInX" style="animation-delay: 0.7s;">
                    <i id="icon2" class="ion-thermometer" style="font-size:30px"></i><b id="max" style="font-size:30px"></b>
                    <i id="arrow2" class="ion-arrow-up-a" style="font-size: 30px;  color: rgba(255, 0, 0, 0.6);"></i>
                  </div>
                </div>
                <!-- Rain column -->
                <div class="column">
                  <div class="animated flipInX" style="animation-delay: 0.9s;">
                    <i id="icon3" class="ion-waterdrop" style="font-size:30px"></i><b id="rain" style="font-size:30px"></b>
                    <i id="arrow3" class="ion-arrow-down-a" style="font-size: 30px;  color: rgba(255, 0, 0, 0.6);"></i>
                  </div>
                </div>
                <!-- Plant cover column -->
                <div class="column">
                  <div class="animated flipInX" style="animation-delay: 1.1s;">
                    <i id="icon4" class="ion-leaf" style="font-size:30px"></i><b id="plant" style="font-size:30px"></b>
                    <i id="arrow4" class="ion-arrow-down-a" style="font-size: 30px;  color: rgba(255, 0, 0, 0.6);"></i>
                  </div>
                </div>
                <!-- Shift column -->
                <div class="column">
                  <div class="animated flipInX" style="animation-delay: 1.3s;">
                    <b id="shift_text" style="font-size:30px">2017</b>
                    <i id="shift" class="ion-arrow-right-a" onclick="newTemps(window.sessionStorage.currentTemps)" style="font-size:30px; color: rgba(0, 0, 0, 0.6)"></b></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- End of question prompt -->

        <!-- Story input goes here -->
        <div class="animated zoomIn" style="animation-delay: 0.2s;">
          <div class="card" style="margin-bottom: 0px;">
            
               <div class="card-content">
                <div class="columns">
                  <div class="column is-half is-offset-one-quarter">
                    <input class="input" onkeyup="checkValid()" onchange="checkValid()" type="text" id="title" placeholder="Give your story a title!"></input>
                  </div>
                </div>
                <textarea id="textarea1" onkeyup="checkValid()" onchange="checkValid()" class="textarea" style="font-size: 20px; padding-bottom: 0px;padding-top: 0px; margin-bottom: 0px;" placeholder="Write your story here!"></textarea>
                <br/>      
                <div class="columns">
                  <div class="column is-half is-offset-5">
                    <button onclick="saveStory()" class="button is-primary" id="sharesubmit" type="submit">Submit!</button>
                  </div>
                </div>
              </div>
          </div>
          <div id="triangle-down" style="align: right;"></div>
        </div>
        <!-- End of story input -->
      </form>
      <!-- End of form -->
  </div>
</div>
</div>
</body>

<script>
  // When the document first loads, set the button to invisible.
  $(document).ready(function() {
     document.getElementById("sharesubmit").style.visibility = "hidden";
     document.getElementById("min").style.visibility = "hidden";
     document.getElementById("icon1").style.visibility = "hidden";
     document.getElementById("arrow1").style.visibility = "hidden";

     document.getElementById("max").style.visibility = "hidden";
     document.getElementById("icon2").style.visibility = "hidden";
     document.getElementById("arrow2").style.visibility = "hidden";

     document.getElementById("rain").style.visibility = "hidden";
     document.getElementById("icon3").style.visibility = "hidden";
     document.getElementById("arrow3").style.visibility = "hidden";

     document.getElementById("plant").style.visibility = "hidden";
     document.getElementById("icon4").style.visibility = "hidden";
     document.getElementById("arrow4").style.visibility = "hidden";

     document.getElementById("shift").style.visibility = "hidden";
     document.getElementById("shift_text").style.visibility = "hidden";
  });
  shuffle_question();
</script>
</html>
